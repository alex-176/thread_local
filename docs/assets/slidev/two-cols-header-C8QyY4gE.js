import{b as A,c as B}from"../modules/unplugin-icons-DEQuOA20.js";import{d as x,r as N,G as V,E as k,D as q,z as S,Z as D,f as g,o as r,j as i,i as M,C as h,b as w,k as z,n as c,g as f}from"../modules/vue-CN_MgJgD.js";import{B as I,m as j,C as K,D as R,E as G,_ as U}from"../index-CxvIfU2J.js";import{u as W}from"./context-B3MqoQzI.js";const X=["title"],Y=x({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:I.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(d){const e=d,{$clicksContext:s}=W(),o=N(),m=j();V(()=>{s.unregister(m)}),k(()=>{var t;(t=o.value)==null||t.classList.toggle("slidev-code-line-numbers",e.lines)}),q(()=>{var u;if(!s||!((u=e.ranges)!=null&&u.length))return;const t=s.calculateSince(e.at,e.ranges.length-1);s.register(m,t);const l=S(()=>t?Math.max(0,s.current-t.start+1):K),n=S(()=>e.finally==="last"?e.ranges.at(-1):e.finally.toString());k(()=>{if(!o.value)return;let p=e.ranges[l.value]??n.value;const _=p==="hide";o.value.classList.toggle(R,_),_&&(p=e.ranges[l.value+1]??n.value);const v=o.value.querySelector(".shiki"),C=Array.from(v.querySelectorAll("code > .line")),E=C.length;if(G(p,E,e.startLine,a=>[C[a]]),e.maxHeight){const a=Array.from(v.querySelectorAll(".line.highlighted"));a.reduce((b,H)=>H.offsetHeight+b,0)>o.value.offsetHeight?a[0].scrollIntoView({behavior:"smooth",block:"start"}):a.length>0&&a[Math.round((a.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:y,copy:L}=D();function $(){var l,n;const t=(n=(l=o.value)==null?void 0:l.querySelector(".slidev-code"))==null?void 0:n.textContent;t&&L(t)}return(t,l)=>{const n=A,u=B;return r(),g("div",{ref_key:"el",ref:o,class:c(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":e.lines}]),style:z({"max-height":e.maxHeight,"overflow-y":e.maxHeight?"scroll":void 0,"--start":e.startLine})},[i(t.$slots,"default"),h(I).codeCopy?(r(),g("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:h(y)?"Copied":"Copy",onClick:l[0]||(l[0]=p=>$())},[h(y)?(r(),w(n,{key:0,class:"p-2 w-8 h-8"})):(r(),w(u,{key:1,class:"p-2 w-8 h-8"}))],8,X)):M("v-if",!0)],6)}}}),Z={class:"col-header"},F=x({__name:"two-cols-header",props:{class:{type:String},layoutClass:{type:String}},setup(d){const e=d;return(s,o)=>(r(),g("div",{class:c(["slidev-layout two-cols-header w-full h-full",d.layoutClass])},[f("div",Z,[i(s.$slots,"default",{},void 0,!0)]),f("div",{class:c(["col-left",e.class])},[i(s.$slots,"left",{},void 0,!0)],2),f("div",{class:c(["col-right",e.class])},[i(s.$slots,"right",{},void 0,!0)],2),f("div",{class:c(["col-bottom",e.class])},[i(s.$slots,"bottom",{},void 0,!0)],2)],2))}}),ee=U(F,[["__scopeId","data-v-9871b2e6"]]);export{ee as I,Y as _};
