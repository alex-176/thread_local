import{_ as p,I as d}from"./slidev/two-cols-header-Xu6t5MfW.js";import{b as g,o as y,w as a,g as s,B as l,e as t,m as h,v as o,x as F,C as n}from"./modules/vue-CN_MgJgD.js";import{u as C,f as u}from"./slidev/context-D2X1yjGM.js";import"./modules/unplugin-icons-DEQuOA20.js";import"./index-lRGSiBie.js";import"./modules/shiki-CbJNJzfY.js";const M={__name:"thread_local.md__slidev_8",setup(E){const{$clicksContext:r,$frontmatter:e}=C();return r.setup(),(A,i)=>{const k=p;return y(),g(d,o(F(n(u)(n(e),7))),{left:a(D=>[t(k,h({},{ranges:[]}),{default:a(()=>i[0]||(i[0]=[s("pre",{class:"shiki shiki-themes dark-plus light-plus slidev-code",style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000","--shiki-dark-bg":"#1E1E1E","--shiki-light-bg":"#FFFFFF"}},[s("code",{class:"language-cpp"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"template"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," <"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"class"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," T"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"struct"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," ClassWithValidation"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," : T{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"    template"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," <"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"class"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," ... "),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"TArgs"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"    ClassWithValidation"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"("),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"bool"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," &"),s("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}}," isAlive"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},", "),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"TArgs"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," ... "),s("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}},"args"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"    : "),s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"m_isAlive"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"(isAlive)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"    , "),s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"T"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"("),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"std"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"::"),s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"forward"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"<"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"TArgs"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},">(args)...) {}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"    ~ClassWithValidation"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"() { m_isAlive = "),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"false"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"; }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"  private:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"    bool"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," & m_isAlive;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"};")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"thread_local"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," bool"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," isLastErrorMsgAlive = "),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"true"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#C586C0","--shiki-light":"#AF00DB"}},"using"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," SafeString"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," = "),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"ClassWithValidation"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"<"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"std"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"::"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"string"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"thread_local"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," SafeString"),s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}}," lastErrorMsg"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"("),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"isLastErrorMsgAlive"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},");")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"void"),s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}}," setLastErrorMsg"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"("),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"std"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"::"),s("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"string"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," const"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," &"),s("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}}," str"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"){")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#C586C0","--shiki-light":"#AF00DB"}},"  if"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," (isLastErrorMsgAlive) lastErrorMsg = str;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}},"// after main() it returns nullptr")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"const"),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," char*"),s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}}," getApiLastErrorMsg"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"() { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#C586C0","--shiki-light":"#AF00DB"}},"  return"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," isLastErrorMsgAlive ? "),s("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}},"lastErrorMsg"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"."),s("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"c_str"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"() : "),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"nullptr"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"}")])])],-1)])),_:1},16),i[1]||(i[1]=s("br",null,null,-1)),i[2]||(i[2]=s("br",null,null,-1))]),right:a(D=>[t(k,h({},{ranges:[]}),{default:a(()=>i[3]||(i[3]=[s("pre",{class:"shiki shiki-themes dark-plus light-plus slidev-code",style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000","--shiki-dark-bg":"#1E1E1E","--shiki-light-bg":"#FFFFFF"}},[s("code",{class:"language-c"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B5CEA8","--shiki-light":"#098658"}},"1."),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," m_isAlive variable is set to "),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"false"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," inside DTOR")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B5CEA8","--shiki-light":"#098658"}},"2."),s("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," bool"),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," is a scalar so isLastErrorMsgAlive can be accessed ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"   safely always")])])],-1)])),_:1},16),i[5]||(i[5]=s("br",null,null,-1)),i[6]||(i[6]=s("br",null,null,-1)),i[7]||(i[7]=s("br",null,null,-1)),i[8]||(i[8]=s("br",null,null,-1)),i[9]||(i[9]=s("br",null,null,-1)),i[10]||(i[10]=s("br",null,null,-1)),i[11]||(i[11]=s("br",null,null,-1)),t(k,h({},{ranges:[]}),{default:a(()=>i[4]||(i[4]=[s("pre",{class:"shiki shiki-themes dark-plus light-plus slidev-code",style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000","--shiki-dark-bg":"#1E1E1E","--shiki-light-bg":"#FFFFFF"}},[s("code",{class:"language-c"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"lastErrorMsg access requires isLastErrorMsgAlive check")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B5CEA8","--shiki-light":"#098658"}},"1."),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," setter sets a new value depending on isLastErrorMsgAlive")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B5CEA8","--shiki-light":"#098658"}},"2."),s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," getter returns a string or nullptr ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"   according to isLastErrorMsgAlive")])])],-1)])),_:1},16)]),default:a(()=>[i[12]||(i[12]=s("h1",null,"Class Destruction : WA-1 (Destruction check)",-1)),i[13]||(i[13]=s("h4",null,"Add a check if a variable was destroyed.",-1)),i[14]||(i[14]=s("h4",null,[l("It provides a safe access to "),s("code",null,"thread_local"),l(" after "),s("code",null,"main()"),l(" but it does not prolong its lifetime.")],-1))]),_:1},16)}}};export{M as default};
