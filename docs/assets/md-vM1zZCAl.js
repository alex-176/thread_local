import{_ as D,I as p}from"./slidev/two-cols-header-C_S6xLp2.js";import{b as g,o as y,w as l,g as i,B as s,e as t,m as k,v as o,x as c,C as n}from"./modules/vue-CN_MgJgD.js";import{u as C,f as E}from"./slidev/context-CVmnFa33.js";import"./modules/unplugin-icons-CK6QWdxd.js";import"./index-CdRH_Vka.js";import"./modules/shiki-CbJNJzfY.js";const T={__name:"thread_local.md__slidev_13",setup(A){const{$clicksContext:e,$frontmatter:r}=C();return e.setup(),(u,a)=>{const h=D;return y(),g(p,o(c(n(E)(n(r),12))),{left:l(d=>[t(h,k({},{ranges:[]}),{default:l(()=>a[0]||(a[0]=[i("pre",{class:"shiki shiki-themes dark-plus light-plus slidev-code",style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000","--shiki-dark-bg":"#1E1E1E","--shiki-light-bg":"#FFFFFF"}},[i("code",{class:"language-cpp"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C586C0","--shiki-light":"#AF00DB"}},"#include"),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}}," <thread>")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C586C0","--shiki-light":"#AF00DB"}},"#include"),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}}," <iostream>")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C586C0","--shiki-light":"#AF00DB"}},"#include"),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}}," <unistd.h>")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"struct"),i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}}," ThreadLogger"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"    ThreadLogger"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"()  { "),i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"std"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"::cout << "),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"CTOR tid: "'),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," << "),i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"gettid"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"() << "),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"'),i("span",{style:{"--shiki-dark":"#D7BA7D","--shiki-light":"#EE0000"}},"\\n"),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"'),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"; }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"    ~ThreadLogger"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"() { "),i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"std"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"::cout << "),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"DTOR tid: "'),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," << "),i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"gettid"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"() << "),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"'),i("span",{style:{"--shiki-dark":"#D7BA7D","--shiki-light":"#EE0000"}},"\\n"),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"'),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"; }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"thread_local"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," ThreadLogger threadLogger;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"thread_local"),i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}}," int"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," v = "),i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"gettid"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"();"),i("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}}," // dynamic initialization")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"int"),i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}}," main"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"(){")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"    ("),i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"void"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},")v;"),i("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}}," // access v")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"    std"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"::thread "),i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"t"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"([](){")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"        ("),i("span",{style:{"--shiki-dark":"#569CD6","--shiki-light":"#0000FF"}},"void"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},")v;"),i("span",{style:{"--shiki-dark":"#6A9955","--shiki-light":"#008000"}}," // access v")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"        std"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"::cout << "),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"thread'),i("span",{style:{"--shiki-dark":"#D7BA7D","--shiki-light":"#EE0000"}},"\\n"),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"'),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"    });")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#9CDCFE","--shiki-light":"#001080"}},"    t"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"."),i("span",{style:{"--shiki-dark":"#DCDCAA","--shiki-light":"#795E26"}},"join"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4EC9B0","--shiki-light":"#267F99"}},"    std"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"::cout << "),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"main'),i("span",{style:{"--shiki-dark":"#D7BA7D","--shiki-light":"#EE0000"}},"\\n"),i("span",{style:{"--shiki-dark":"#CE9178","--shiki-light":"#A31515"}},'"'),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}}," ;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C586C0","--shiki-light":"#AF00DB"}},"    return"),i("span",{style:{"--shiki-dark":"#B5CEA8","--shiki-light":"#098658"}}," 0"),i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"}")])])],-1)])),_:1},16)]),right:l(d=>[t(h,k({},{ranges:[]}),{default:l(()=>a[1]||(a[1]=[i("pre",{class:"shiki shiki-themes dark-plus light-plus slidev-code",style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000","--shiki-dark-bg":"#1E1E1E","--shiki-light-bg":"#FFFFFF"}},[i("code",{class:"language-console"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"CTOR tid: 1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"CTOR tid: 2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"thread")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"DTOR tid: 2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"main")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D4D4D4","--shiki-light":"#000000"}},"DTOR tid: 1")])])],-1)])),_:1},16),a[2]||(a[2]=i("p",null,[s("Now both main thread and "),i("code",null,"t"),s(" access a "),i("code",null,"thread_local"),s(" variable so threadLogger is initialized and its logs are printed.")],-1))]),default:l(()=>[a[3]||(a[3]=i("h1",null,"Class lifetime : Construction",-1)),a[4]||(a[4]=i("h4",null,[s("In reality many threads access "),i("code",null,"thread_local"),s(" variables and "),i("code",null,"ThreadLogger"),s(" will work.")],-1))]),_:1},16)}}};export{T as default};
