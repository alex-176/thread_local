import{_ as d,I as g}from"./slidev/two-cols-header-D-5Beytl.js";import{b as y,o,w as l,g as i,B as s,e as k,m as h,v as A,x as c,C as e}from"./modules/vue-CN_MgJgD.js";import{u as B,f as D}from"./slidev/context-DAng1aKg.js";import"./modules/unplugin-icons-DEQuOA20.js";import"./index-DlMUDyXS.js";import"./modules/shiki-CbJNJzfY.js";const x={__name:"thread_local.md__slidev_6",setup(C){const{$clicksContext:n,$frontmatter:r}=B();return n.setup(),(f,a)=>{const t=d;return o(),y(g,A(c(e(D)(e(r),5))),{left:l(p=>[k(t,h({},{ranges:[]}),{default:l(()=>a[0]||(a[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-cpp"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"iostream"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// some library")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"thread_local"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," std"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"::"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"string lastErrorMsg"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // library internal variable")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// library API")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," apiCall"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," lastErrorMsg "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},' "'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"An error explanation"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"const"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," char*"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," getApiLastErrorMsg"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," return"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," lastErrorMsg"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"c_str"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"();"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// user code that is using library API after main  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"struct"),i("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}}," ApiUsage"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"  ApiUsage"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," apiCall"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"();"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"  ~ApiUsage"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"(){")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    std"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"::"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"cout "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<<"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},' "'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Last error msg: "),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," <<"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," getApiLastErrorMsg"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," <<"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},' "'),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"};")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// global variable. Ctor before main() and Dtor after main() ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"ApiUsage apiUsageInstance"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," main"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"(){"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," return"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," }")])])],-1)])),_:1},16)]),right:l(p=>[k(t,h({},{ranges:[]}),{default:l(()=>a[1]||(a[1]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-console"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"Last error msg: K")])])],-1)])),_:1},16),a[2]||(a[2]=i("p",null,[s("lastErrorMsg was destroyed before "),i("code",null,"apiUsageInstance"),s(" dtor invocation.")],-1))]),default:l(()=>[a[3]||(a[3]=i("h1",null,"Class Lifetime : Destruction",-1)),a[4]||(a[4]=i("h4",null,[i("code",null,"thread_local"),s(" objects are destroyed before regular static objects")],-1))]),_:1},16)}}};export{x as default};
